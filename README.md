# Place Agent v3.0.0

ì§€ì—­ ì„ ì • ë° ì¢Œí‘œ ë°˜í™˜ ì „ë¬¸ ì„œë¹„ìŠ¤ - ë°ì´íŠ¸ ì½”ìŠ¤ ì¶”ì²œì„ ìœ„í•œ AI ê¸°ë°˜ ì¥ì†Œ ë¶„ì„ API

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

- **4ê°€ì§€ ì§€ì—­ ì„ ì • ëª¨ë“œ**: exact, near, between, multi
- **Kakao Map API ì—°ë™**: ì‹¤ì‹œê°„ ì§€ì—­ ì •ë³´ ë° ì¢Œí‘œ ì¡°íšŒ
- **GPT-4o-mini ê¸°ë°˜ LLM ë¶„ì„**: ì‚¬ìš©ì ì»¨í…ìŠ¤íŠ¸ë¥¼ ê³ ë ¤í•œ ìµœì  ì¥ì†Œ ì¶”ì²œ
- **ì¢Œí‘œ ì •í™•ë„ ê´€ë¦¬**: ì†Œìˆ˜ì  4ìë¦¬ ì •ê·œí™” ë° ì¤‘ë³µ ë°©ì§€ (ìµœì†Œ 200m ê°„ê²©)
- **ë‹¤ì–‘í•œ ì¹´í…Œê³ ë¦¬ ì§€ì›**: ì¹´í˜, ìŒì‹ì , ê³µì›, ë¬¸í™”ì‹œì„¤, ê´€ê´‘ëª…ì†Œ

## ğŸ“¦ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
cd place_agent
pip install -r requirements.txt
```

### 2. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
`.env` íŒŒì¼ ìƒì„±:
```env
OPENAI_API_KEY=your-openai-api-key
KAKAO_API_KEY=your-kakao-api-key
```

### 3. ì„œë²„ ì‹¤í–‰
```bash
python place_agent.py
```

ì„œë²„ê°€ `http://localhost:8001`ì—ì„œ ì‹¤í–‰ë˜ë©°, API ë¬¸ì„œëŠ” `http://localhost:8001/docs`ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## ğŸ¯ API ì—”ë“œí¬ì¸íŠ¸

### POST /analyze
ë©”ì¸ ì§€ì—­ ë¶„ì„ ë° ì¢Œí‘œ ë°˜í™˜ API

#### 4ê°€ì§€ proximity_type ì§€ì›:

#### 1. exact ëª¨ë“œ - ì§€ì • ì§€ì—­ ë‚´ ì„¸ë¶€ ì¥ì†Œë“¤
```json
{
  "request_id": "req-001",
  "timestamp": "2025-01-01T12:00:00",
  "location_request": {
    "proximity_type": "exact",
    "reference_areas": ["í™ëŒ€"],
    "place_count": 3
  },
  "user_context": {
    "demographics": {
      "age": 25,
      "mbti": "ENFP",
      "relationship_stage": "ì—°ì¸"
    },
    "preferences": ["ì¡°ìš©í•œ ë¶„ìœ„ê¸°", "íŠ¸ë Œë””í•œ"],
    "requirements": {
      "budget_level": "medium",
      "time_preference": "ì˜¤í›„",
      "transportation": "ì§€í•˜ì² "
    }
  }
}
```

#### 2. near ëª¨ë“œ - ê¸°ì¤€ ì§€ì—­ ì£¼ë³€ ì¶”ì²œ
```json
{
  "request_id": "req-002",
  "timestamp": "2025-01-01T12:00:00",
  "location_request": {
    "proximity_type": "near",
    "reference_areas": ["ê°•ë‚¨ì—­"],
    "place_count": 3
  },
  "user_context": {
    "demographics": {
      "age": 28,
      "mbti": "ISFJ",
      "relationship_stage": "ì¸"
    },
    "preferences": ["ë¶„ìœ„ê¸° ì¢‹ì€", "ì‚¬ì§„ ì°ê¸° ì¢‹ì€"],
    "requirements": {
      "budget_level": "high",
      "time_preference": "ì €ë…",
      "transportation": "ì°¨"
    }
  }
}
```

#### 3. between ëª¨ë“œ - ë‘ ì§€ì—­ ì¤‘ê°„ì 
```json
{
  "request_id": "req-003",
  "timestamp": "2025-01-01T12:00:00",
  "location_request": {
    "proximity_type": "between",
    "reference_areas": ["í™ëŒ€", "ê°•ë‚¨"],
    "place_count": 2
  },
  "user_context": {
    "demographics": {
      "age": 24,
      "mbti": "ENTP",
      "relationship_stage": "ì¹œêµ¬"
    },
    "preferences": ["ì ‘ê·¼ì„± ì¢‹ì€"],
    "requirements": {
      "time_preference": "ì˜¤ì „",
      "transportation": "ì§€í•˜ì² "
    }
  }
}
```

#### 4. multi ëª¨ë“œ - ì¼ë°˜ ì¶”ì²œ
```json
{
  "request_id": "req-004",
  "timestamp": "2025-01-01T12:00:00",
  "location_request": {
    "proximity_type": "multi",
    "reference_areas": [],
    "place_count": 3
  },
  "user_context": {
    "demographics": {
      "age": 22,
      "mbti": "INFP",
      "relationship_stage": "ì—°ì¸"
    },
    "preferences": ["í™í•œ ê³³", "ì¸ìŠ¤íƒ€ ê°ì„±"],
    "requirements": {
      "budget_level": "low",
      "time_preference": "ì˜¤í›„",
      "max_travel_time": 30
    }
  },
  "selected_categories": ["ì¹´í˜", "ë ˆìŠ¤í† ë‘"]
}
```

#### ì‘ë‹µ í˜•ì‹:
```json
{
  "request_id": "req-001",
  "success": true,
  "locations": [
    {
      "sequence": 1,
      "area_name": "í™ëŒ€ ê±·ê³ ì‹¶ì€ê±°ë¦¬",
      "coordinates": {
        "latitude": 37.5519,
        "longitude": 126.9245
      },
      "reason": "í™ëŒ€ì˜ ëŒ€í‘œì ì¸ ê±°ë¦¬ë¡œ ë‹¤ì–‘í•œ ì¹´í˜ì™€ ë§›ì§‘ì´ ëª¨ì—¬ìˆì–´ ì Šì€ ì—°ì¸ë“¤ì—ê²Œ ì¸ê¸°ê°€ ë†’ìŠµë‹ˆë‹¤."
    },
    {
      "sequence": 2,
      "area_name": "í™ëŒ€ í´ëŸ½ê±°ë¦¬",
      "coordinates": {
        "latitude": 37.5512,
        "longitude": 126.9235
      },
      "reason": "íŠ¸ë Œë””í•˜ê³  í™œê¸°ì°¬ ë¶„ìœ„ê¸°ë¥¼ ì›í•˜ì‹œëŠ” ENFP ì„±í–¥ì— ì˜ ë§ëŠ” ì¥ì†Œì…ë‹ˆë‹¤."
    }
  ]
}
```

### GET /health
ì„œë¹„ìŠ¤ ìƒíƒœ ë° API í‚¤ ì„¤ì • ìƒíƒœ í™•ì¸

### GET /test-coordinates/{area_name}
íŠ¹ì • ì§€ì—­ì˜ ì—¬ëŸ¬ ì¢Œí‘œ í…ŒìŠ¤íŠ¸ (ê°œë°œìš©)

### GET /test-nearby/{area_name}
íŠ¹ì • ì§€ì—­ ì£¼ë³€ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸ (ê°œë°œìš©)

### POST /test-request
ì „ì²´ ìš”ì²­ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ (ê°œë°œìš©)

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: FastAPI 3.0
- **AI/ML**: OpenAI GPT-4o-mini
- **ì§€ë„ API**: Kakao Map API
- **ì¢Œí‘œ ê³„ì‚°**: Haversine ê³µì‹
- **ë¹„ë™ê¸° ì²˜ë¦¬**: asyncio, httpx

## ğŸ“ ì¢Œí‘œ ì •í™•ë„ ë° ì¤‘ë³µ ë°©ì§€

- **ì¢Œí‘œ ì •ê·œí™”**: ì†Œìˆ˜ì  4ìë¦¬ë¡œ ê³ ì •
- **ìµœì†Œ ê±°ë¦¬**: 200ë¯¸í„° ì´ìƒ ê°„ê²© ë³´ì¥
- **ì¤‘ë³µ ì œê±°**: ë™ì¼ ì¹´í…Œê³ ë¦¬ ë° ìœ ì‚¬ ì¥ì†Œëª… í•„í„°ë§
- **ê±°ë¦¬ ê³„ì‚°**: Haversine ê³µì‹ ì‚¬ìš©

## ğŸ¨ ì‚¬ìš©ì ì»¨í…ìŠ¤íŠ¸ ê³ ë ¤ì‚¬í•­

### ì¸êµ¬í†µê³„í•™ì  ì •ë³´
- **ë‚˜ì´**: ì—°ë ¹ëŒ€ë³„ ì„ í˜¸ ì¥ì†Œ ë°˜ì˜
- **MBTI**: ì„±ê²© ìœ í˜•ë³„ ë§ì¶¤ ì¶”ì²œ
- **ê´€ê³„ ë‹¨ê³„**: ì—°ì¸/ì¸/ì¹œêµ¬ë³„ ì í•©í•œ ì¥ì†Œ

### ì„ í˜¸ì‚¬í•­ ë° ìš”êµ¬ì‚¬í•­
- **ì˜ˆì‚° ìˆ˜ì¤€**: low/medium/high
- **ì‹œê°„ëŒ€**: ì˜¤ì „/ì˜¤í›„/ì €ë…/ë°¤
- **êµí†µìˆ˜ë‹¨**: ë„ë³´/ì°¨/ì§€í•˜ì² 
- **ìµœëŒ€ ì´ë™ì‹œê°„**: ë¶„ ë‹¨ìœ„

## ğŸŒŸ íŠ¹ì§•

### LLM ê¸°ë°˜ ì§€ëŠ¥í˜• ë¶„ì„
- ì‚¬ìš©ìì˜ ë‚˜ì´, MBTI, ê´€ê³„ ë‹¨ê³„ë¥¼ ì¢…í•© ê³ ë ¤
- ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ í˜•íƒœì˜ ì¶”ì²œ ì´ìœ  ì œê³µ
- ë‹¤ì–‘í•œ ì¹´í…Œê³ ë¦¬ ê· í˜• ë°°ì¹˜

### Kakao API ì—°ë™
- ì‹¤ì‹œê°„ ì¥ì†Œ ì •ë³´ ì¡°íšŒ
- ë°˜ê²½ ê¸°ë°˜ ì£¼ë³€ ì§€ì—­ ê²€ìƒ‰
- ì¹´í…Œê³ ë¦¬ë³„ ì¥ì†Œ í•„í„°ë§ (ì¹´í˜, ìŒì‹ì , ë¬¸í™”ì‹œì„¤ ë“±)

### ê³ ë„í™”ëœ ì¢Œí‘œ ê´€ë¦¬
- ì¢Œí‘œ ì •ê·œí™”ë¡œ ì¼ê´€ì„± ë³´ì¥
- ê±°ë¦¬ ê¸°ë°˜ ì¤‘ë³µ ë°©ì§€
- ì§€ì—­ë³„ ì„¸ë¶€ ìœ„ì¹˜ ìƒì„±

## ğŸ” ì§€ì› ì§€ì—­

ì„œìš¸ ì „ì²´ ì§€ì—­ì„ ë™ì ìœ¼ë¡œ ì§€ì›í•˜ë©°, íŠ¹íˆ ë‹¤ìŒ ì§€ì—­ì— ìµœì í™”:
- í™ëŒ€, ê°•ë‚¨, ì´íƒœì›, ì„±ìˆ˜, ì—°ë‚¨ë™
- ì‹ ì´Œ, ëª…ë™, ì¸ì‚¬ë™, ì••êµ¬ì •, ê±´ëŒ€ì…êµ¬
- ê·¸ ì™¸ ì„œìš¸ ëª¨ë“  êµ¬/ë™/ì£¼ìš” ìƒê¶Œ

## ğŸš¨ ì—ëŸ¬ ì²˜ë¦¬

- API í‚¤ ë¯¸ì„¤ì • ì‹œ graceful degradation
- Kakao API ì¥ì•  ì‹œ fallback ë©”ì»¤ë‹ˆì¦˜
- ì¢Œí‘œ ì¡°íšŒ ì‹¤íŒ¨ ì‹œ ëŒ€ì²´ ìƒì„± ë¡œì§
- ìƒì„¸í•œ ì—ëŸ¬ ë©”ì‹œì§€ ë° ë¡œê¹…

## ğŸ”„ ê°œë°œ ë¡œë“œë§µ

- [x] 4ê°€ì§€ proximity_type ëª¨ë“œ êµ¬í˜„
- [x] Kakao API ì—°ë™ ë° ì‹¤ì‹œê°„ ê²€ìƒ‰
- [x] LLM ê¸°ë°˜ ì§€ëŠ¥í˜• ì¥ì†Œ ë¶„ì„
- [x] ì¢Œí‘œ ì •í™•ë„ ë° ì¤‘ë³µ ë°©ì§€ ì‹œìŠ¤í…œ
- [ ] ì‚¬ìš©ì í”¼ë“œë°± í•™ìŠµ ì‹œìŠ¤í…œ
- [ ] ëŒ€ì¤‘êµí†µ ì—°ê³„ ìµœì í™”
- [ ] ì‹¤ì‹œê°„ í˜¼ì¡ë„ ë°˜ì˜

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” SKN11 Final Projectì˜ ì¼ë¶€ì…ë‹ˆë‹¤.